/* Dashboard-only scoped styles. These rules only apply inside
   the Dashboard tab container `.app-tab.dashboard` to avoid
   impacting other tabs. */

.app-tab.dashboard {
  height:100%;
  background:#fffdf4;
  display:grid;
  grid-template-rows:auto auto auto 1fr auto auto;
  justify-items:center;
  text-align:center;
  row-gap:10px;
  padding:24px;
  border:1px solid var(--paper-bd);
  border-radius:16px;
  box-shadow:0 8px 22px rgba(0,0,0,.06);
  overflow-y:auto;
  overflow-x:hidden;
  box-sizing:border-box;
}
.app-tab.dashboard > *{
  width:100%;
  max-width:360px;
  margin:0 auto;
}

.app-tab.dashboard .db-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; text-align:left }
.app-tab.dashboard .db-header .title{ margin:0; font-size:24px }
.app-tab.dashboard .db-actions{ display:flex; align-items:center }
.app-tab.dashboard .month-wrap{ position:relative; display:inline-block }
.app-tab.dashboard .month-picker-btn{
  height:36px; min-width:140px; padding:8px 18px; border-radius:14px;
  border:1.5px solid #d7b46a; background:#FFF3D6; color:#5a3b2a;
  font-weight:800; cursor:pointer; letter-spacing:0.02em;
  box-shadow: 0 1px 0 rgba(255,255,255,.85) inset;
}
.app-tab.dashboard .month-picker-btn:hover{ border-color:#e4c27f; background:#FFE7B0 }
.app-tab.dashboard .month-picker-btn:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(243,156,58,.28), 0 1px 0 rgba(255,255,255,.85) inset }

.app-tab.dashboard .month-popup{
  position:absolute; top:44px; left:50%; transform:translateX(-50%); z-index:10;
  background:#fff8eb; border:1px solid #e8ce8c; border-radius:14px;
  box-shadow:0 10px 26px rgba(120,82,44,.08);
  width:240px; padding:10px;
}
.app-tab.dashboard .month-nav{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; color:#5a3b2a }
.app-tab.dashboard .month-nav .nav-btn{
  width:28px; height:28px; border-radius:8px; border:1px solid #e0c27a; background:#FFE6A3; cursor:pointer;
  display:flex; align-items:center; justify-content:center; padding-top:2px; color:#7a4f21; font-weight:700;
}
.app-tab.dashboard .month-nav .nav-btn:hover{ background:#ffd980; border-color:#d9b25a }
.app-tab.dashboard .month-nav .year{ font-weight:900; letter-spacing:0.02em }
.app-tab.dashboard .month-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:6px; color:#5a3b2a }
.app-tab.dashboard .mcell{
  appearance:none; border:1px solid #efd9ab; background:#fff4de; border-radius:10px; padding:8px 0;
  cursor:pointer; font-weight:600; color:#5a3b2a; transition:all .15s ease;
}
.app-tab.dashboard .mcell:hover{ border-color:#e1b85a; background:#ffe8c1 }
.app-tab.dashboard .mcell.sel{ background:#F39C3A; border-color:#F39C3A; color:#fff; font-weight:700; box-shadow:0 4px 10px rgba(243,156,58,.25) }

.app-tab.dashboard .weekly-toggle{
  display:flex; justify-content:flex-end; margin-bottom:8px;
}
.app-tab.dashboard .weekly-toggle .btn.small{
  padding:6px 12px; font-size:12px; border-radius:10px;
}
.app-tab.dashboard .weekly-sticky{ position: static; background: transparent; padding:0; margin:0 0 8px 0 }
.app-tab.dashboard .weekly-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); gap:8px }

/* Ensure weekly 4x1 layout overrides generic kpi-grid 2-col */
.app-tab.dashboard .weekly-grid.kpi-grid{ grid-template-columns: repeat(4, minmax(0,1fr)) !important }

/* Tighter typography for 4x1 badges to avoid wrapping */
.app-tab.dashboard .weekly-grid .kpi-card{ padding:8px 10px }
.app-tab.dashboard .weekly-grid .kpi-label{ font-size:11px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.app-tab.dashboard .weekly-grid .kpi-big{ font-size:18px; line-height:1.1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }

@media (max-width: 380px){
  .app-tab.dashboard .weekly-grid{ gap:6px }
  .app-tab.dashboard .weekly-grid .kpi-label{ font-size:10px }
  .app-tab.dashboard .weekly-grid .kpi-big{ font-size:16px }
}

.app-tab.dashboard .grid.two{ display:grid; grid-template-columns: minmax(0,1fr); gap:16px }
@media (min-width: 560px){
  .app-tab.dashboard .grid.two{ grid-template-columns: minmax(0,1fr) minmax(0,1fr) }
}
.app-tab.dashboard .grid.one{ display:grid; grid-template-columns: 1fr; gap:12px }

.app-tab.dashboard .card{ background:#fff; border:1px solid var(--paper-bd); border-radius:14px; padding:14px; box-shadow:0 2px 6px rgba(0,0,0,.04); width:100%; overflow:visible; text-align:left }
.app-tab.dashboard .sec-title{ margin:0 0 10px; font-size:15px; font-weight:800 }

.app-tab.dashboard .kpi-grid{ display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:8px; align-items:stretch }
.app-tab.dashboard .kpi-card{
  background:#FFF6DA;
  border:1px solid #f1d69a;
  border-radius:14px;
  padding:10px 12px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  box-shadow: 0 1px 0 rgba(255,255,255,.5) inset;
  width:100%; box-sizing:border-box;
}
.app-tab.dashboard .kpi-label{ font-size:12px; opacity:.7 }
.app-tab.dashboard .kpi-big{ font-size:22px; font-weight:900; color:#3b2a1d }

.app-tab.dashboard .badge-list { display:flex; flex-wrap:wrap; gap:8px; margin: 4px 0 12px }
.app-tab.dashboard .badge { font-size: 12px; border-radius: 999px; padding: 4px 10px; background: #f3f4f6; border: 1px solid #e5e7eb }
.app-tab.dashboard .badge.gold { background:#fef3c7; border-color:#fde68a }
.app-tab.dashboard .badge.mint { background:#ecfdf5; border-color:#d1fae5 }
.app-tab.dashboard .badge.beige{ background:#fff7ed; border-color:#ffedd5 }

.app-tab.dashboard .bar-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px }
.app-tab.dashboard .bar-item { display:grid; grid-template-columns: 120px 1fr 56px; gap:10px; align-items:center }
.app-tab.dashboard .bar-label { font-size:13px; opacity:.8; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.app-tab.dashboard .bar-track { height:12px; background:#f3f4f6; border:1px solid #e5e7eb; border-radius:999px; overflow:hidden }
.app-tab.dashboard .bar-fill { height:100%; background:rgba(16,185,129,.5) }
.app-tab.dashboard .bar-val { font-size:13px; text-align:right; opacity:.8 }

.app-tab.dashboard .error{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; padding:10px; border-radius:10px }

/* Removed Recharts theming: using ApexCharts now */

/* ApexCharts theming (scoped) */
.app-tab.dashboard .apexcharts-canvas, 
.app-tab.dashboard .apexcharts-svg{ width:100% !important }
.app-tab.dashboard .apexcharts-inner, 
.app-tab.dashboard .apexcharts-graphical{ overflow:visible !important }
.app-tab.dashboard .card .apexcharts-canvas{ margin:0 auto }
.app-tab.dashboard .apexcharts-tooltip{ box-shadow:none; border:1px solid #eee !important; border-radius:8px }
.app-tab.dashboard .apexcharts-legend{ padding-top:6px }
.app-tab.dashboard .apexcharts-datalabel-label, 
.app-tab.dashboard .apexcharts-datalabel-value{ font-weight:800 }

.app-tab.dashboard .card.chart-card{
  width:100%;
  max-width:360px;
  display:flex; flex-direction:column; justify-content:flex-start; gap:12px;
  margin:0 auto;
}
.app-tab.dashboard .gauge-card .gauge-header{ display:flex; align-items:center; gap:16px; width:100%; justify-content:space-between }
.app-tab.dashboard .gauge-card .gauge-header .sec-title{ margin-bottom:15px; white-space:nowrap; font-size:14px }
.app-tab.dashboard .gauge-card .runner-gauge{ flex:1; min-width:0; padding:12px 0 24px }

/* Runner gauge styles */
.app-tab.dashboard .runner-gauge{ padding:12px 0 24px; width:100% }
.app-tab.dashboard .runner-track{
  position:relative; height:24px; border-radius:999px; background:#fcefdc;
  border:1px solid #e9cfa0; overflow:visible;
}
.app-tab.dashboard .runner-fill{
  height:100%; background:linear-gradient(90deg,#F39C3A 0%, #E1B85A 100%);
  transition:width .6s ease; border-radius:inherit;
}
.app-tab.dashboard .runner-rabbit{
  position:absolute; top:-7.3px; width:40px; height:auto; pointer-events:none;
}
.app-tab.dashboard .runner-rabbit img{
  width:40px; height:auto; filter:drop-shadow(0 3px 6px rgba(0,0,0,.25));
  animation:battery-bob 2.4s ease-in-out infinite;
}
.app-tab.dashboard .runner-pct{
  position:absolute; right:12px; bottom:-20px;
  font-weight:500; font-size:12px; color:#3b2a1d;
}

@keyframes battery-bob{
  0%{ transform:translateY(0) }
  50%{ transform:translateY(-3px) }
  100%{ transform:translateY(0) }
}
